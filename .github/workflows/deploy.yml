name: Esteira de Entrega Profissional

on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout do RepositÃ³rio
        uses: actions/checkout@v3

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # PARTE 2: Empacotamento na pasta dist/
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: Empacotar Arquivos na dist
        run: |
          # a) Limpeza: apaga qualquer dist antiga
          rm -rf dist

          # b) CriaÃ§Ã£o: cria a pasta do zero
          mkdir dist

          # c) Coleta: copia todos os HTMLs para a dist
          cp *.html dist/

          # d) Assets: copia a pasta assets/ inteira
          cp -r assets/ dist/assets/

          # e) Logs: lista o conteÃºdo para o professor ver
          echo "=== ConteÃºdo da pasta dist/ ==="
          ls -lR dist/

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # PARTE 3: Auditoria de Qualidade
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: Auditoria de Qualidade
        run: |
          echo "Verificando arquivos obrigatÃ³rios na dist/..."

          test -f dist/index.html   && echo "âœ… index.html encontrado"   || (echo "âŒ ERRO: index.html nÃ£o encontrado!"   && exit 1)
          test -f dist/sobre.html   && echo "âœ… sobre.html encontrado"   || (echo "âŒ ERRO: sobre.html nÃ£o encontrado!"   && exit 1)
          test -f dist/contato.html && echo "âœ… contato.html encontrado" || (echo "âŒ ERRO: contato.html nÃ£o encontrado!" && exit 1)

          echo "Auditoria concluÃ­da com sucesso! ğŸ‰"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # Deploy (sÃ³ roda se a auditoria passar)
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: Deploy
        run: |
          echo "Todos os arquivos validados. Iniciando deploy da pasta dist/..."
          # Aqui vocÃª adicionaria o comando real de deploy (ex: GitHub Pages, FTP, etc.)
          echo "Deploy concluÃ­do! âœ…"